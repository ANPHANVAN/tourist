<br>
<a href="/destination/add-new">Add New Destination</a>

<div class="mb-4">
  <input type="text" id="search-input" class="form-control" placeholder="Search destinations (Vietnamese with accents) ...">
</div>

<div class="container mt-5">
  <h2 class="text-center mb-4">Explore Amazing Destinations</h2>
  <% if (destinations.length === 0) { %>
    <p class="text-center">No destinations available.</p>
  <% } else { %>

    <div class="row row-cols-1 row-cols-md-3 g-4">
      <% destinations.forEach(destination => { %>
        <div class="col">
          <div class="card h-100 shadow-sm">
            <img src="<%= destination.image_link || 'https://via.placeholder.com/300' %>" 
                 class="card-img-top" 
                 alt="<%= destination.image_alt || 'Destination Image' %>" 
                 style="height: 200px; object-fit: cover;">
            <div class="card-body">
              <h5 class="card-title"><%= destination.destination_name || 'Unknown Destination' %></h5>
              <p class="card-text"><%= destination.short_description || 'No description available.' %></p>
            </div>
            <div class="card-footer d-flex justify-content-center gap-2">
              <a href="/destination/<%= destination.slug %>" 
                 class="btn btn-primary" 
                 style="flex: 1; max-width: 100px;">Detail</a>
              <button type="button" 
                      class="btn btn-success like-btn" 
                      style="flex: 1; max-width: 100px;"
                      data-id="<%= destination._id %>">Like</button>
              <button type="button" 
                      class="btn btn-info went-btn" 
                      style="flex: 1; max-width: 100px;"
                      data-id="<%= destination._id %>">Went</button>
            </div>
          </div>
        </div>
      <% }) %>
    </div>
  <% } %>
</div>



<script>
  document.addEventListener("DOMContentLoaded", function () {
    const searchInput = document.getElementById("search-input");
    const cards = document.querySelectorAll(".card");

    searchInput.addEventListener("input", function () {
      const query = this.value.toLowerCase();

      cards.forEach(card => {
        const text = card.querySelector(".card-text").innerText.toLowerCase();
        const title = card.querySelector(".card-title").innerText.toLowerCase();

        if (text.includes(query) || title.includes(query)) {
          card.closest(".col").style.display = "block";
        } else {
          card.closest(".col").style.display = "none";
        }
      });
    });
  });
</script>

