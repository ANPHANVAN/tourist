<link rel="stylesheet" href="/public/css/destinationdetail.css">
<div class="container mt-5">
  <% if (!destination) { %>
    <p class="text-center">No destination available.</p>
  <% } else { %>
    <div class="row row-cols-1 row-cols-md-1 g-4">
      <div class="col">
        <div class="card h-100 shadow-sm">
          <div class="card-body">
            <h1 class="card-title text-center"><%= destination.destination_name || 'Unknown Destination' %></h1>
          </div>
          <img src="<%= destination.image_link || 'https://via.placeholder.com/300' %>" 
               class="card-img-top" 
               alt="<%= destination.image_alt || 'Destination Image' %>" 
               style="height: 500px; object-fit: cover;">
          <div class="card-body">
            <p class="card-text text-center fst-italic"><%= destination.image_alt || 'No description available.' %></p>
            <p class="card-text"><%= destination.description || 'No description available.' %></p>
            <p class="card-text text-end">Likes: <%= destination.like_count || 0 %> | Went: <%= destination.went_count || 0 %></p>
          </div>
          <div class="card-footer d-flex justify-content-center gap-2">
            <button type="button" 
                    class="btn btn-success like-btn" 
                    style="flex: 1; max-width: 100px;"
                    data-id="<%= destination._id %>">Like</button>
            <button type="button" 
                    class="btn btn-info went-btn" 
                    style="flex: 1; max-width: 100px;"
                    data-id="<%= destination._id %>">Went</button>                                  
          </div>

        <!-- embed youtube -->
        <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
        <iframe 
            src="https://www.youtube.com/embed/<%= destination.youtube_embed%>" 
            style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;" 
            frameborder="0" 
            allowfullscreen>
        </iframe>
        </div>
    <br>
    <!-- embed google map -->
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
        <iframe src="https://www.google.com/maps/embed?pb=<%- destination.map_embed%>"
        width="1200" height="600" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade">
        </iframe>
        </div>
        </div>
      </div>
    </div>
  <% } %>
</div>